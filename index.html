<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Sdoba Zakax Web App</title>
  <script src="https://cdn.jsdelivr.net/npm/react@18.2.0/umd/react.production.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/react-dom@18.2.0/umd/react-dom.production.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@babel/standalone@7.22.9/babel.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/axios@1.4.0/dist/axios.min.js"></script>
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
</head>
<body>
  <div id="root"></div>
  <script type="text/babel">
    const { useState, useEffect } = React;

    // Mock product data with subcategories
    const mockCategories = [
    { 
        id: 1, 
        name: "Маффины", 
        image: "https://pastrichi.ru/upload/resize_cache/iblock/0ce/800_800_1/oery87bcnkfmk4of27zoxwg7zim6hef7.png",
        subcategories: [
        { id: 101, name: "Маффины 120 граммов (готовые)", storage_period: "6 месяцев" },
        { id: 102, name: "Маффины 90 граммов (готовые)", storage_period: "6 месяцев" },
        { id: 103, name: "Маффины 65 граммов (готовые)", storage_period: "6 месяцев" },
        { id: 104, name: "Маффины в индивидуальной упаковке (готовые)", storage_period: "6 месяцев" }
        ]
    },
    { 
        id: 2, 
        name: "Крунаты", 
        image: "https://images.unsplash.com/photo-1562440499-64c9a111f713?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&h=500&q=80",
        subcategories: [
        { id: 201, name: "Крунаты (готовые)", storage_period: "6 месяцев" }
        ]
    },
    { 
        id: 3, 
        name: "Круассаны", 
        image: "https://pastrichi.ru/upload/resize_cache/iblock/0ce/800_800_1/oery87bcnkfmk4of27zoxwg7zim6hef7.png",
        subcategories: [
        { id: 301, name: "Круассаны на сливочном масле", storage_period: "6 месяцев" },
        { id: 302, name: "Круассаны «Премиум»", storage_period: "12 месяцев" },
        { id: 303, name: "Круассаны с цветным декором (готовые)", storage_period: "6 месяцев" },
        { id: 304, name: "Круассаны классические", storage_period: "6 месяцев" }
        ]
    },
    { 
        id: 4, 
        name: "Слоёные изделия", 
        image: "https://images.unsplash.com/photo-1562440499-64c9a111f713?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&h=500&q=80",
        subcategories: [
        { id: 401, name: "Улитки", storage_period: "6 месяцев" },
        { id: 402, name: "Тречча (АКЦИЯ)", storage_period: "6 месяцев" },
        { id: 403, name: "Тречча (готовая) (АКЦИЯ)", storage_period: "6 месяцев" },
        { id: 404, name: "Кленовый пекан (готовый)", storage_period: "6 месяцев" },
        { id: 405, name: "Кленовый пекан", storage_period: "6 месяцев" },
        { id: 406, name: "Слойки сладкие", storage_period: "6 месяцев" },
        { id: 407, name: "Слойки сытные", storage_period: "6 месяцев" },
        { id: 408, name: "Розаны (АКЦИЯ)", storage_period: "6 месяцев" },
        { id: 409, name: "Штрудели", storage_period: "6 месяцев" },
        { id: 410, name: "Хачапури (бездрожжевое)", storage_period: "6 месяцев" },
        { id: 411, name: "Самса", storage_period: "6 месяцев" },
        { id: 412, name: "Ватрушки", storage_period: "6 месяцев" },
        { id: 413, name: "Буреки из теста Фило", storage_period: "6 месяцев" }
        ]
    },
    { 
        id: 5, 
        name: "Сдоба", 
        image: "https://pastrichi.ru/upload/resize_cache/iblock/0ce/800_800_1/oery87bcnkfmk4of27zoxwg7zim6hef7.png",
        subcategories: [
        { id: 501, name: "Шоссон", storage_period: "6 месяцев" },
        { id: 502, name: "Расстегаи (готовые)", storage_period: "6 месяцев" },
        { id: 503, name: "Пирожки сдобные (готовые)", storage_period: "6 месяцев" }
        ]
    },
    { 
        id: 6, 
        name: "Сочники", 
        image: "https://images.unsplash.com/photo-1562440499-64c9a111f713?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&h=500&q=80",
        subcategories: [
        { id: 601, name: "Сочники (готовые)", storage_period: "6 месяцев" }
        ]
    },
    { 
        id: 7, 
        name: "Сэндвичи", 
        image: "https://pastrichi.ru/upload/resize_cache/iblock/0ce/800_800_1/oery87bcnkfmk4of27zoxwg7zim6hef7.png",
        subcategories: [
        { id: 701, name: "Клаб-сэндвичи (готовые)", storage_period: "3 месяца" },
        { id: 702, name: "Сэндвич-роллы (готовые)", storage_period: "3 месяца" },
        { id: 703, name: "Сэндвичи на чиабатте (готовые)", storage_period: "3 месяца" },
        { id: 704, name: "Сэндвичи на круассане (готовые)", storage_period: "3 месяца" },
        { id: 705, name: "Панини (готовые)", storage_period: "3 месяца" }
        ]
    },
    { 
        id: 8, 
        name: "Пиццы", 
        image: "https://images.unsplash.com/photo-1562440499-64c9a111f713?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&h=500&q=80",
        subcategories: [
        { id: 801, name: "Римские пиццы (требуют допекания в печи)", storage_period: "6 месяцев" }
        ]
    },
    { 
        id: 9, 
        name: "Выпечка и закуски для СВЧ", 
        image: "https://pastrichi.ru/upload/resize_cache/iblock/0ce/800_800_1/oery87bcnkfmk4of27zoxwg7zim6hef7.png",
        subcategories: [
        { id: 901, name: "Сырники (готовые)", storage_period: "6 месяцев" },
        { id: 902, name: "Блины (готовые, весовой товар)", storage_period: "6 месяцев" },
        { id: 903, name: "Оладьи (готовые, весовой товар)", storage_period: "6 месяцев" },
        { id: 904, name: "Грилата (готовая)", storage_period: "6 месяцев" },
        { id: 905, name: "Пирожки (готовые)", storage_period: "6 месяцев" },
        { id: 906, name: "Пицца (готовая)", storage_period: "6 месяцев" }
        ]
    },
    {
        id: 10,
        name: "Беляши и чебуреки",
        image: "https://images.unsplash.com/photo-1562440499-64c9a111f713?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&h=500&q=80",
        subcategories: [
        { id: 1001, name: "Беляши (готовые)", storage_period: "6 месяцев" },
        { id: 1002, name: "Чебуреки (готовые)", storage_period: "6 месяцев" }
        ]
    },
    {
        id: 11,
        name: "Десерты",
        image: "https://pastrichi.ru/upload/resize_cache/iblock/0ce/800_800_1/oery87bcnkfmk4of27zoxwg7zim6hef7.png",
        subcategories: [
        { id: 1101, name: "Американское печенье «Кукис» с полезными свойствами (готовое)", storage_period: "6 месяцев" },
        { id: 1102, name: "Американское печенье «Кукис» классическое (готовое)", storage_period: "6 месяцев" },
        { id: 1103, name: "Вупи Пай (готовый)", storage_period: "6 месяцев" },
        { id: 1104, name: "Кексы (готовые)", storage_period: "6 месяцев" },
        { id: 1105, name: "Штрудели (готовые)", storage_period: "6 месяцев" },
        { id: 1106, name: "Ромовая баба (готовая)", storage_period: "6 месяцев" },
        { id: 1107, name: "Брауни (готовый)", storage_period: "6 месяцев" },
        { id: 1108, name: "Тарталетки (готовые)", storage_period: "6 месяцев" },
        { id: 1109, name: "Паштел-де-ната (АКЦИЯ)", storage_period: "6 месяцев" },
        { id: 1110, name: "Донатсы Ассорти (готовые)", storage_period: "6 месяцев" },
        { id: 1111, name: "Донатсы с начинкой (готовые) (АКЦИЯ)", storage_period: "6 месяцев" },
        { id: 1112, name: "Кейк - Попсы (готовые)", storage_period: "6 месяцев" },
        { id: 1113, name: "Пирожное «Макарунс» (готовые)", storage_period: "6 месяцев" }
        ]
    },
    {
        id: 12,
        name: "Кондитерские изделия",
        image: "https://images.unsplash.com/photo-1562440499-64c9a111f713?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&h=500&q=80",
        subcategories: [
        { id: 1201, name: "Чизкейки классические (готовые)", storage_period: "6 месяцев" },
        { id: 1202, name: "Пироги (тарты) порционные", storage_period: "6 месяцев" },
        { id: 1203, name: "Порционные торты (готовые) (АКЦИЯ)", storage_period: "6 месяцев" },
        { id: 1204, name: "Пирожные (готовые)", storage_period: "6 месяцев" },
        { id: 1205, name: "Эклеры «Премиум» (готовые)", storage_period: "6 месяцев" },
        { id: 1206, name: "Эклеры классические (готовые)", storage_period: "6 месяцев" },
        { id: 1207, name: "Вафельные трубочки (готовые)", storage_period: "6 месяцев" }
        ]
    },
    {
        id: 13,
        name: "Хлеб и булочки",
        image: "https://pastrichi.ru/upload/resize_cache/iblock/0ce/800_800_1/oery87bcnkfmk4of27zoxwg7zim6hef7.png",
        subcategories: [
        { id: 1301, name: "Багеты (требуют допекания в печи)", storage_period: "6 месяцев" },
        { id: 1302, name: "Чиабатты (требуют допекания в печи)", storage_period: "6 месяцев" },
        { id: 1303, name: "Булочки для сэндвичей", storage_period: "6 месяцев" }
        ]
    }
    ];

    const mockProducts = [
    // Маффины 120 граммов (готовые)
    { id: 1, category_id: 1, subcategory_id: 101, name: "Маффин Сливочный с черникой «Элит»", article: "770136", weight: 120, price_per_unit: 73.13, units_per_pack: 20, price_per_pack: 1462.60, storage_period: "6 мес.", technology: "RD", available_units: 20 },
    { id: 2, category_id: 1, subcategory_id: 101, name: "Маффин «Три шоколада»", article: "770220", weight: 120, price_per_unit: 75.45, units_per_pack: 20, price_per_pack: 1509.00, storage_period: "6 мес.", technology: "RD", available_units: 15 },
    { id: 3, category_id: 1, subcategory_id: 101, name: "Маффин «Солёная карамель»", article: "770219", weight: 120, price_per_unit: 68.50, units_per_pack: 20, price_per_pack: 1370.00, storage_period: "6 мес.", technology: "RD", available_units: 10 },
    { id: 4, category_id: 1, subcategory_id: 101, name: "Маффин Шоколадный с шоколадной крошкой «Элит»", article: "770117", weight: 120, price_per_unit: 79.60, units_per_pack: 20, price_per_pack: 1592.00, storage_period: "6 мес.", technology: "RD", available_units: 12 },
    { id: 5, category_id: 1, subcategory_id: 101, name: "Маффин Сливочный с шоколадом «Элит»", article: "770116", weight: 120, price_per_unit: 70.69, units_per_pack: 20, price_per_pack: 1413.80, storage_period: "6 мес.", technology: "RD", available_units: 18 },
    { id: 6, category_id: 1, subcategory_id: 101, name: "Маффин Шоколадный «Элит»", article: "770115", weight: 120, price_per_unit: 64.20, units_per_pack: 20, price_per_pack: 1284.00, storage_period: "6 мес.", technology: "RD", available_units: 14 },
    { id: 7, category_id: 1, subcategory_id: 101, name: "Маффин Сливочный с брусникой «Элит»", article: "770118", weight: 120, price_per_unit: 67.45, units_per_pack: 20, price_per_pack: 1349.00, storage_period: "6 мес.", technology: "RD", available_units: 16 },

    // Маффины 90 граммов (готовые)
    { id: 8, category_id: 1, subcategory_id: 102, name: "Маффин сливочный «Мандарин-Брусника»", article: "770316", weight: 90, price_per_unit: 44.99, units_per_pack: 20, price_per_pack: 899.80, storage_period: "6 мес.", technology: "RD", available_units: 20 },
    { id: 9, category_id: 1, subcategory_id: 102, name: "Маффин «Ред Вельвет»", article: "770315", weight: 90, price_per_unit: 62.95, units_per_pack: 20, price_per_pack: 1259.00, storage_period: "6 мес.", technology: "RD", available_units: 15 },
    { id: 10, category_id: 1, subcategory_id: 102, name: "Маффин «Солёная карамель»", article: "770222", weight: 90, price_per_unit: 53.95, units_per_pack: 20, price_per_pack: 1079.00, storage_period: "6 мес.", technology: "RD", available_units: 10 },
    { id: 11, category_id: 1, subcategory_id: 102, name: "Маффин Сливочный с шоколадом и клубничной начинкой", article: "770217", weight: 90, price_per_unit: 47.45, units_per_pack: 20, price_per_pack: 949.00, storage_period: "6 мес.", technology: "RD", available_units: 12 },
    { id: 12, category_id: 1, subcategory_id: 102, name: "Маффин Сливочный с шоколадом и вишневой начинкой", article: "770209", weight: 90, price_per_unit: 53.30, units_per_pack: 20, price_per_pack: 1066.00, storage_period: "6 мес.", technology: "RD", available_units: 18 },
    { id: 13, category_id: 1, subcategory_id: 102, name: "Маффин Сливочный с апельсиновыми цукатами и шоколадом", article: "770106", weight: 90, price_per_unit: 66.02, units_per_pack: 20, price_per_pack: 1320.40, storage_period: "6 мес.", technology: "RD", available_units: 14 },
    { id: 14, category_id: 1, subcategory_id: 102, name: "Маффин Сливочный с малиновой начинкой", article: "770169", weight: 90, price_per_unit: 51.86, units_per_pack: 20, price_per_pack: 1037.20, storage_period: "6 мес.", technology: "RD", available_units: 16 },
    { id: 15, category_id: 1, subcategory_id: 102, name: "Маффин Сливочный с шоколадом", article: "770132", weight: 90, price_per_unit: 55.30, units_per_pack: 20, price_per_pack: 1106.00, storage_period: "6 мес.", technology: "RD", available_units: 20 },
    { id: 16, category_id: 1, subcategory_id: 102, name: "Маффин Шоколадный", article: "770134", weight: 90, price_per_unit: 52.65, units_per_pack: 20, price_per_pack: 1053.00, storage_period: "6 мес.", technology: "RD", available_units: 15 },
    { id: 17, category_id: 1, subcategory_id: 102, name: "Маффин Сливочный с черникой", article: "770133", weight: 90, price_per_unit: 57.40, units_per_pack: 20, price_per_pack: 1148.00, storage_period: "6 мес.", technology: "RD", available_units: 10 },
    { id: 18, category_id: 1, subcategory_id: 102, name: "Маффин Сливочный с брусникой", article: "770131", weight: 90, price_per_unit: 49.50, units_per_pack: 20, price_per_pack: 990.00, storage_period: "6 мес.", technology: "RD", available_units: 12 },
    { id: 19, category_id: 1, subcategory_id: 102, name: "Маффин Шоколадный с шоколадной крошкой", article: "770135", weight: 90, price_per_unit: 63.10, units_per_pack: 20, price_per_pack: 1262.00, storage_period: "6 мес.", technology: "RD", available_units: 18 },
    { id: 20, category_id: 1, subcategory_id: 102, name: "Маффин Сливочный с ванильной начинкой", article: "770149", weight: 90, price_per_unit: 50.31, units_per_pack: 20, price_per_pack: 1006.20, storage_period: "6 мес.", technology: "RD", available_units: 14 },
    { id: 21, category_id: 1, subcategory_id: 102, name: "Маффин Шоколадный с шоколадной начинкой", article: "770150", weight: 90, price_per_unit: 57.80, units_per_pack: 20, price_per_pack: 1156.00, storage_period: "6 мес.", technology: "RD", available_units: 16 },

    // Маффины 65 граммов (готовые)
    { id: 22, category_id: 1, subcategory_id: 103, name: "Маффин Шоколадный", article: "770127", weight: 65, price_per_unit: 40.60, units_per_pack: 20, price_per_pack: 812.00, storage_period: "6 мес.", technology: "RD", available_units: 20 },
    { id: 23, category_id: 1, subcategory_id: 103, name: "Маффин Сливочный с брусникой", article: "770128", weight: 65, price_per_unit: 39.00, units_per_pack: 20, price_per_pack: 780.00, storage_period: "6 мес.", technology: "RD", available_units: 15 },
    { id: 24, category_id: 1, subcategory_id: 103, name: "Маффин Сливочный с шоколадом", article: "770125", weight: 65, price_per_unit: 45.32, units_per_pack: 20, price_per_pack: 906.40, storage_period: "6 мес.", technology: "RD", available_units: 10 },
    { id: 25, category_id: 1, subcategory_id: 103, name: "Маффин Сливочный с черникой", article: "770129", weight: 65, price_per_unit: 45.25, units_per_pack: 20, price_per_pack: 905.00, storage_period: "6 мес.", technology: "RD", available_units: 12 },
    { id: 26, category_id: 1, subcategory_id: 103, name: "Маффин Шоколадный с шоколадной крошкой", article: "770130", weight: 65, price_per_unit: 49.17, units_per_pack: 20, price_per_pack: 983.40, storage_period: "6 мес.", technology: "RD", available_units: 18 },

    // Маффины в индивидуальной упаковке (готовые)
    { id: 27, category_id: 1, subcategory_id: 104, name: "Маффин Сливочный с ванильной начинкой", article: "770167", weight: 90, price_per_unit: 51.70, units_per_pack: 20, price_per_pack: 1034.00, storage_period: "6 мес.", technology: "RD", available_units: 20 },
    { id: 28, category_id: 1, subcategory_id: 104, name: "Маффин Шоколадный с апельсином", article: "773206", weight: 50, price_per_unit: 37.80, units_per_pack: 20, price_per_pack: 756.00, storage_period: "6 мес.", technology: "RD", available_units: 15 },
    { id: 29, category_id: 1, subcategory_id: 104, name: "Маффин Шоколадный с шоколадной крошкой «Элит»", article: "770138", weight: 120, price_per_unit: 85.30, units_per_pack: 20, price_per_pack: 1706.00, storage_period: "6 мес.", technology: "RD", available_units: 10 },
    { id: 30, category_id: 1, subcategory_id: 104, name: "Маффин Сливочный с шоколадом «Элит»", article: "770139", weight: 120, price_per_unit: 71.25, units_per_pack: 20, price_per_pack: 1425.00, storage_period: "6 мес.", technology: "RD", available_units: 12 },
    { id: 31, category_id: 1, subcategory_id: 104, name: "Маффин Сливочный с апельсиновыми цукатами и шоколадом", article: "770173", weight: 90, price_per_unit: 67.49, units_per_pack: 20, price_per_pack: 1349.80, storage_period: "6 мес.", technology: "RD", available_units: 18 },
    { id: 32, category_id: 1, subcategory_id: 104, name: "Маффин Сливочный с брусникой", article: "770154", weight: 90, price_per_unit: 49.10, units_per_pack: 20, price_per_pack: 982.00, storage_period: "6 мес.", technology: "RD", available_units: 14 },
    { id: 33, category_id: 1, subcategory_id: 104, name: "Маффин Сливочный с шоколадом", article: "770144", weight: 90, price_per_unit: 58.30, units_per_pack: 20, price_per_pack: 1166.00, storage_period: "6 мес.", technology: "RD", available_units: 16 },
    { id: 34, category_id: 1, subcategory_id: 104, name: "Маффин Сливочный с черникой", article: "770145", weight: 90, price_per_unit: 61.05, units_per_pack: 20, price_per_pack: 1221.00, storage_period: "6 мес.", technology: "RD", available_units: 20 },
    { id: 35, category_id: 1, subcategory_id: 104, name: "Маффин Шоколадный с шоколадной крошкой", article: "770146", weight: 90, price_per_unit: 65.35, units_per_pack: 20, price_per_pack: 1307.00, storage_period: "6 мес.", technology: "RD", available_units: 15 },
    { id: 36, category_id: 1, subcategory_id: 104, name: "Маффин Шоколадный с апельсином", article: "771306", weight: 35, price_per_unit: 31.93, units_per_pack: 60, price_per_pack: 1915.80, storage_period: "6 мес.", technology: "RD", available_units: 10 },

    // Крунаты (готовые)
    { id: 37, category_id: 2, subcategory_id: 201, name: "Крунат «Мандарин-брусника»", article: "742359", weight: 110, price_per_unit: 89.99, units_per_pack: 12, price_per_pack: 1079.88, storage_period: "6 мес.", technology: "RD", available_units: 12 },
    { id: 38, category_id: 2, subcategory_id: 201, name: "Крунат «Манго-облепиха»", article: "742358", weight: 110, price_per_unit: 89.99, units_per_pack: 12, price_per_pack: 1079.88, storage_period: "6 мес.", technology: "RD", available_units: 10 },
    { id: 39, category_id: 2, subcategory_id: 201, name: "Крунат «Солёная карамель»", article: "742357", weight: 110, price_per_unit: 101.17, units_per_pack: 12, price_per_pack: 1214.04, storage_period: "6 мес.", technology: "RD", available_units: 8 },
    { id: 40, category_id: 2, subcategory_id: 201, name: "Крунат «Малиновый»", article: "742353", weight: 110, price_per_unit: 101.17, units_per_pack: 12, price_per_pack: 1214.04, storage_period: "6 мес.", technology: "RD", available_units: 15 },
    { id: 41, category_id: 2, subcategory_id: 201, name: "Крунат «Фисташковый»", article: "742360", weight: 110, price_per_unit: 101.17, units_per_pack: 12, price_per_pack: 1214.04, storage_period: "6 мес.", technology: "RD", available_units: 10 },
    { id: 42, category_id: 2, subcategory_id: 201, name: "Крунат «Вишневый»", article: "742354", weight: 110, price_per_unit: 92.67, units_per_pack: 12, price_per_pack: 1112.04, storage_period: "6 мес.", technology: "RD", available_units: 12 },
    { id: 43, category_id: 2, subcategory_id: 201, name: "Крунат «Бабл Гам»", article: "742356", weight: 110, price_per_unit: 92.67, units_per_pack: 12, price_per_pack: 1112.04, storage_period: "6 мес.", technology: "RD", available_units: 14 },
    { id: 44, category_id: 2, subcategory_id: 201, name: "Крунат «Ванильный»", article: "742355", weight: 110, price_per_unit: 92.67, units_per_pack: 12, price_per_pack: 1112.04, storage_period: "6 мес.", technology: "RD", available_units: 16 },
    { id: 45, category_id: 2, subcategory_id: 201, name: "Крунат «Шоколадный»", article: "742350", weight: 110, price_per_unit: 92.67, units_per_pack: 12, price_per_pack: 1112.04, storage_period: "6 мес.", technology: "RD", available_units: 18 },

    // Круассаны на сливочном масле
    { id: 46, category_id: 3, subcategory_id: 301, name: "Круассаны без начинки", article: "919422", weight: 75, price_per_unit: 60.90, units_per_pack: 30, price_per_pack: 1827.00, storage_period: "6 мес.", technology: "RST", available_units: 20 },
    { id: 47, category_id: 3, subcategory_id: 301, name: "Круассан с миндалем и миндальным кремом", article: "919402", weight: 95, price_per_unit: 99.03, units_per_pack: 30, price_per_pack: 2970.90, storage_period: "6 мес.", technology: "RST", available_units: 15 },
    { id: 48, category_id: 3, subcategory_id: 301, name: "Круассан с шоколадной начинкой", article: "919404", weight: 90, price_per_unit: 99.80, units_per_pack: 30, price_per_pack: 2994.00, storage_period: "6 мес.", technology: "RST", available_units: 10 },
    { id: 49, category_id: 3, subcategory_id: 301, name: "Круассан с ветчиной и сыром", article: "919405", weight: 105, price_per_unit: 98.27, units_per_pack: 30, price_per_pack: 2948.10, storage_period: "6 мес.", technology: "RST", available_units: 12 },
    { id: 50, category_id: 3, subcategory_id: 301, name: "Круассан с малиновой начинкой", article: "919412", weight: 95, price_per_unit: 84.57, units_per_pack: 30, price_per_pack: 2537.10, storage_period: "6 мес.", technology: "RST", available_units: 18 },

    // Круассаны «Премиум»
    { id: 51, category_id: 3, subcategory_id: 302, name: "Круассан «Премиум» с варёной сгущёнкой", article: "742331", weight: 85, price_per_unit: 46.78, units_per_pack: 50, price_per_pack: 2339.00, storage_period: "12 мес.", technology: "RST", available_units: 20 },
    { id: 52, category_id: 3, subcategory_id: 302, name: "Круассан «Премиум» с шоколадом", article: "742326", weight: 85, price_per_unit: 44.06, units_per_pack: 50, price_per_pack: 2203.00, storage_period: "12 мес.", technology: "RST", available_units: 15 },
    { id: 53, category_id: 3, subcategory_id: 302, name: "Круассан «Премиум» с ванильным кремом", article: "742327", weight: 85, price_per_unit: 37.80, units_per_pack: 50, price_per_pack: 1890.00, storage_period: "12 мес.", technology: "RST", available_units: 10 },
    { id: 54, category_id: 3, subcategory_id: 302, name: "Круассан «Премиум» с ветчиной и сыром", article: "742328", weight: 85, price_per_unit: 43.72, units_per_pack: 50, price_per_pack: 2186.00, storage_period: "12 мес.", technology: "RST", available_units: 12 },
    { id: 55, category_id: 3, subcategory_id: 302, name: "Круассан «Премиум» без начинки", article: "742325", weight: 85, price_per_unit: 37.04, units_per_pack: 50, price_per_pack: 1852.00, storage_period: "12 мес.", technology: "RST", available_units: 18 },

    // Круассаны с цветным декором (готовые)
    { id: 56, category_id: 3, subcategory_id: 303, name: "Круассан с клубничной начинкой", article: "910092", weight: 70, price_per_unit: 59.60, units_per_pack: 18, price_per_pack: 1072.80, storage_period: "6 мес.", technology: "RD", available_units: 20 },
    { id: 57, category_id: 3, subcategory_id: 303, name: "Круассан с орехово-шоколадной начинкой", article: "910093", weight: 70, price_per_unit: 64.60, units_per_pack: 18, price_per_pack: 1162.80, storage_period: "6 мес.", technology: "RD", available_units: 15 },

    // Круассаны классические
    { id: 58, category_id: 3, subcategory_id: 304, name: "Круассан без начинки", article: "911439", weight: 85, price_per_unit: 36.10, units_per_pack: 60, price_per_pack: 2166.00, storage_period: "6 мес.", technology: "RST", available_units: 20 },
    { id: 59, category_id: 3, subcategory_id: 304, name: "Круассан с шоколадной начинкой", article: "911438", weight: 65, price_per_unit: 25.00, units_per_pack: 50, price_per_pack: 1250.00, storage_period: "6 мес.", technology: "RST", available_units: 15 },

    // Улитки
    { id: 60, category_id: 4, subcategory_id: 401, name: "Улитка с кремом и изюмом", article: "510048", weight: 95, price_per_unit: 34.99, units_per_pack: 30, price_per_pack: 1049.70, storage_period: "6 мес.", technology: "RST", available_units: 20 },
    { id: 61, category_id: 4, subcategory_id: 401, name: "Улитка с кремом и шоколадом", article: "510047", weight: 95, price_per_unit: 41.99, units_per_pack: 30, price_per_pack: 1259.70, storage_period: "6 мес.", technology: "RST", available_units: 15 },
    { id: 62, category_id: 4, subcategory_id: 401, name: "Улитка с корицей", article: "510040", weight: 95, price_per_unit: 41.10, units_per_pack: 30, price_per_pack: 1233.00, storage_period: "6 мес.", technology: "RST", available_units: 10 },
    { id: 63, category_id: 4, subcategory_id: 401, name: "Улитка с сыром", article: "918151", weight: 115, price_per_unit: 46.00, units_per_pack: 40, price_per_pack: 1840.00, storage_period: "6 мес.", technology: "RST", available_units: 12 },

    // Тречча (АКЦИЯ)
    { id: 64, category_id: 4, subcategory_id: 402, name: "Тречча с миндальной начинкой", article: "742245", weight: 85, price_per_unit: 50.10, units_per_pack: 30, price_per_pack: 1503.00, storage_period: "6 мес.", technology: "RST", available_units: 20 },

    // Тречча (готовая) (АКЦИЯ)
    { id: 65, category_id: 4, subcategory_id: 403, name: "Тречча с миндальной начинкой", article: "742105", weight: 75, price_per_unit: 57.30, units_per_pack: 20, price_per_pack: 1146.00, storage_period: "6 мес.", technology: "RD", available_units: 15 },
    { id: 66, category_id: 4, subcategory_id: 403, name: "Тречча «Солёная карамель»", article: "742101", weight: 75, price_per_unit: 40.16, units_per_pack: 20, price_per_pack: 803.20, storage_period: "6 мес.", technology: "RD", available_units: 10 },
    { id: 67, category_id: 4, subcategory_id: 403, name: "Тречча «Сахарная вишня»", article: "742103", weight: 75, price_per_unit: 37.06, units_per_pack: 20, price_per_pack: 741.20, storage_period: "6 мес.", technology: "RD", available_units: 12 },

    // Кленовый пекан (готовый)
    { id: 68, category_id: 4, subcategory_id: 404, name: "Кленовый пекан (готовый, в ИУ)", article: "742104", weight: 75, price_per_unit: 65.00, units_per_pack: 20, price_per_pack: 1300.00, storage_period: "6 мес.", technology: "RD", available_units: 15 },

    // Кленовый пекан
    { id: 69, category_id: 4, subcategory_id: 405, name: "Кленовый пекан (п/ф, для выпечки)", article: "742295", weight: 85, price_per_unit: 60.93, units_per_pack: 30, price_per_pack: 1827.90, storage_period: "6 мес.", technology: "RST", available_units: 10 },

    // Слойки сладкие
    { id: 70, category_id: 4, subcategory_id: 406, name: "Слойка с вишней", article: "742231", weight: 90, price_per_unit: 31.46, units_per_pack: 50, price_per_pack: 1573.00, storage_period: "6 мес.", technology: "RST", available_units: 20 },
    { id: 71, category_id: 4, subcategory_id: 406, name: "Слойка с абрикосом", article: "742244", weight: 90, price_per_unit: 26.71, units_per_pack: 50, price_per_pack: 1335.50, storage_period: "6 мес.", technology: "RST", available_units: 15 },
    { id: 72, category_id: 4, subcategory_id: 406, name: "Слойка с клубникой", article: "742208", weight: 90, price_per_unit: 29.70, units_per_pack: 50, price_per_pack: 1485.00, storage_period: "6 мес.", technology: "RST", available_units: 10 },
    { id: 73, category_id: 4, subcategory_id: 406, name: "Слойка с лимоном (Дениш-конверт)", article: "742215", weight: 90, price_per_unit: 28.55, units_per_pack: 50, price_per_pack: 1427.50, storage_period: "6 мес.", technology: "RST", available_units: 12 },
    { id: 74, category_id: 4, subcategory_id: 406, name: "Слойка с малиной", article: "742217", weight: 90, price_per_unit: 35.86, units_per_pack: 50, price_per_pack: 1793.00, storage_period: "6 мес.", technology: "RST", available_units: 18 },
    { id: 75, category_id: 4, subcategory_id: 406, name: "Слойка с творогом", article: "742249", weight: 90, price_per_unit: 28.06, units_per_pack: 50, price_per_pack: 1403.00, storage_period: "6 мес.", technology: "RST", available_units: 14 },
    { id: 76, category_id: 4, subcategory_id: 406, name: "Слойка с яблоком", article: "742228", weight: 90, price_per_unit: 26.73, units_per_pack: 50, price_per_pack: 1336.50, storage_period: "6 мес.", technology: "RST", available_units: 16 },

    // Слойки сытные
    { id: 77, category_id: 4, subcategory_id: 407, name: "Слойка с капустой и яйцом", article: "742239", weight: 90, price_per_unit: 25.32, units_per_pack: 50, price_per_pack: 1266.00, storage_period: "6 мес.", technology: "RST", available_units: 20 },
    { id: 78, category_id: 4, subcategory_id: 407, name: "Слойка с мясом", article: "742251", weight: 90, price_per_unit: 38.48, units_per_pack: 50, price_per_pack: 1924.00, storage_period: "6 мес.", technology: "RST", available_units: 15 },
    { id: 79, category_id: 4, subcategory_id: 407, name: "Слойка с курицей и грибами", article: "742213", weight: 90, price_per_unit: 42.20, units_per_pack: 50, price_per_pack: 2110.00, storage_period: "6 мес.", technology: "RST", available_units: 10 },
    { id: 80, category_id: 4, subcategory_id: 407, name: "Слойка с ветчиной и сыром (книжка)", article: "742238", weight: 90, price_per_unit: 36.00, units_per_pack: 50, price_per_pack: 1800.00, storage_period: "6 мес.", technology: "RST", available_units: 12 },
    { id: 81, category_id: 4, subcategory_id: 407, name: "Слойка с курицей и сыром", article: "742246", weight: 90, price_per_unit: 40.94, units_per_pack: 50, price_per_pack: 2047.00, storage_period: "6 мес.", technology: "RST", available_units: 18 },
    { id: 82, category_id: 4, subcategory_id: 407, name: "Слойка с сыром", article: "742248", weight: 90, price_per_unit: 33.80, units_per_pack: 50, price_per_pack: 1690.00, storage_period: "6 мес.", technology: "RST", available_units: 14 },
    { id: 83, category_id: 4, subcategory_id: 407, name: "Слойка с сосиской", article: "742252", weight: 110, price_per_unit: 49.14, units_per_pack: 50, price_per_pack: 2457.00, storage_period: "6 мес.", technology: "RST", available_units: 16 },
    { id: 84, category_id: 4, subcategory_id: 407, name: "Слойка с Баварской сосиской", article: "742274", weight: 140, price_per_unit: 74.70, units_per_pack: 30, price_per_pack: 2241.00, storage_period: "6 мес.", technology: "RST", available_units: 20 },

    // Розаны (АКЦИЯ)
    { id: 85, category_id: 4, subcategory_id: 408, name: "Розан с абрикосом и ванильным кремом", article: "755326", weight: 110, price_per_unit: 28.60, units_per_pack: 50, price_per_pack: 1430.00, storage_period: "6 мес.", technology: "RST", available_units: 20 },
    { id: 86, category_id: 4, subcategory_id: 408, name: "Розан с ветчиной и белым соусом", article: "755333", weight: 120, price_per_unit: 42.65, units_per_pack: 50, price_per_pack: 2132.50, storage_period: "6 мес.", technology: "RST", available_units: 15 },
    { id: 87, category_id: 4, subcategory_id: 408, name: "Розан с картофелем, беконом и шпинатным соусом", article: "755332", weight: 120, price_per_unit: 38.92, units_per_pack: 50, price_per_pack: 1946.00, storage_period: "6 мес.", technology: "RST", available_units: 10 },
    { id: 88, category_id: 4, subcategory_id: 408, name: "Розан с картофелем, беконом и розовым соусом", article: "755331", weight: 120, price_per_unit: 38.92, units_per_pack: 50, price_per_pack: 1946.00, storage_period: "6 мес.", technology: "RST", available_units: 12 },
    { id: 89, category_id: 4, subcategory_id: 408, name: "Розан с вишнёвой начинкой", article: "755330", weight: 110, price_per_unit: 32.49, units_per_pack: 50, price_per_pack: 1624.50, storage_period: "6 мес.", technology: "RST", available_units: 18 },
    { id: 90, category_id: 4, subcategory_id: 408, name: "Розан со смородиной и ванильным кремом", article: "755327", weight: 110, price_per_unit: 40.62, units_per_pack: 50, price_per_pack: 2031.00, storage_period: "6 мес.", technology: "RST", available_units: 14 },

    // Штрудели
    { id: 91, category_id: 4, subcategory_id: 409, name: "Штрудель с вишней", article: "741051", weight: 150, price_per_unit: 54.17, units_per_pack: 30, price_per_pack: 1625.10, storage_period: "6 мес.", technology: "RST", available_units: 20 },
    { id: 92, category_id: 4, subcategory_id: 409, name: "Штрудель с яблоком", article: "741052", weight: 150, price_per_unit: 50.10, units_per_pack: 30, price_per_pack: 1503.00, storage_period: "6 мес.", technology: "RST", available_units: 15 },
    { id: 93, category_id: 4, subcategory_id: 409, name: "Штрудель с ветчиной и сыром", article: "741050", weight: 150, price_per_unit: 80.82, units_per_pack: 30, price_per_pack: 2424.60, storage_period: "6 мес.", technology: "RST", available_units: 10 },
    { id: 94, category_id: 4, subcategory_id: 409, name: "Штрудель со шпинатом и сыром", article: "741057", weight: 150, price_per_unit: 62.47, units_per_pack: 30, price_per_pack: 1874.10, storage_period: "6 мес.", technology: "RST", available_units: 12 },
    { id: 95, category_id: 4, subcategory_id: 409, name: "Штрудель с курицей", article: "741064", weight: 150, price_per_unit: 74.23, units_per_pack: 30, price_per_pack: 2226.90, storage_period: "6 мес.", technology: "RST", available_units: 18 },
    { id: 96, category_id: 4, subcategory_id: 409, name: "Штрудель с мясом", article: "741063", weight: 150, price_per_unit: 76.13, units_per_pack: 30, price_per_pack: 2283.90, storage_period: "6 мес.", technology: "RST", available_units: 14 },

    // Хачапури (бездрожжевое)
    { id: 97, category_id: 4, subcategory_id: 410, name: "Хачапури с сыром и базиликом", article: "741061", weight: 100, price_per_unit: 41.60, units_per_pack: 25, price_per_pack: 1040.00, storage_period: "6 мес.", technology: "RST", available_units: 20 },
    { id: 98, category_id: 4, subcategory_id: 410, name: "Хачапури с ветчиной и сыром", article: "741001", weight: 130, price_per_unit: 54.00, units_per_pack: 25, price_per_pack: 1350.00, storage_period: "6 мес.", technology: "RST", available_units: 15 },
    { id: 99, category_id: 4, subcategory_id: 410, name: "Хачапури с курицей и сыром", article: "741002", weight: 130, price_per_unit: 60.16, units_per_pack: 25, price_per_pack: 1504.00, storage_period: "6 мес.", technology: "RD", available_units: 10 },
    { id: 100, category_id: 4, subcategory_id: 410, name: "Хачапури с салями, грибами и сливочным соусом", article: "741003", weight: 130, price_per_unit: 60.60, units_per_pack: 25, price_per_pack: 1515.00, storage_period: "6 мес.", technology: "RD", available_units: 12 },
    { id: 101, category_id: 4, subcategory_id: 410, name: "Хачапури с салями, грибами и томатным соусом", article: "741004", weight: 130, price_per_unit: 57.20, units_per_pack: 25, price_per_pack: 1430.00, storage_period: "6 мес.", technology: "RD", available_units: 18 },

    // Беляши (готовые)
    { id: 102, category_id: 10, subcategory_id: 1001, name: "Беляш с мясом", article: "742401", weight: 140, price_per_unit: 53.99, units_per_pack: 25, price_per_pack: 1349.75, storage_period: "6 мес.", technology: "RD", available_units: 20 },
    { id: 103, category_id: 10, subcategory_id: 1001, name: "Беляш жареный с мясом", article: "912607", weight: 140, price_per_unit: 53.99, units_per_pack: 40, price_per_pack: 2159.60, storage_period: "6 мес.", technology: "RD", available_units: 15 },

    // Чебуреки (готовые)
    { id: 104, category_id: 10, subcategory_id: 1002, name: "Чебурек жареный с говядиной", article: "912604", weight: 140, price_per_unit: 51.04, units_per_pack: 40, price_per_pack: 2041.60, storage_period: "6 мес.", technology: "RD", available_units: 10 },

    // Американское печенье «Кукис» с полезными свойствами (готовое)
    { id: 105, category_id: 11, subcategory_id: 1101, name: "Кукис сливочный с семенами Чиа", article: "300314", weight: 70, price_per_unit: 44.77, units_per_pack: 30, price_per_pack: 1343.10, storage_period: "6 мес.", technology: "RD", available_units: 20 },
    { id: 106, category_id: 11, subcategory_id: 1101, name: "Кукис злаковый «Фитнес»", article: "300305", weight: 70, price_per_unit: 63.10, units_per_pack: 30, price_per_pack: 1893.00, storage_period: "6 мес.", technology: "RD", available_units: 15 },

    // Американское печенье «Кукис» классическое (готовое)
    { id: 107, category_id: 11, subcategory_id: 1102, name: "Кукис сливочный с шоколадом", article: "300307", weight: 70, price_per_unit: 60.03, units_per_pack: 30, price_per_pack: 1800.90, storage_period: "6 мес.", technology: "RD", available_units: 10 },
    { id: 108, category_id: 11, subcategory_id: 1102, name: "Кукис шоколадный с шоколадными каплями", article: "300304", weight: 70, price_per_unit: 67.17, units_per_pack: 30, price_per_pack: 2015.10, storage_period: "6 мес.", technology: "RD", available_units: 12 },

    // Вупи Пай (готовый)
    { id: 109, category_id: 11, subcategory_id: 1103, name: "Вупи Пай «Классический»", article: "911429", weight: 75, price_per_unit: 77.11, units_per_pack: 9, price_per_pack: 693.99, storage_period: "6 мес.", technology: "RD", available_units: 18 },
    { id: 110, category_id: 11, subcategory_id: 1103, name: "Вупи Пай «Карамельный»", article: "911428", weight: 75, price_per_unit: 77.11, units_per_pack: 9, price_per_pack: 693.99, storage_period: "6 мес.", technology: "RD", available_units: 14 },
    { id: 111, category_id: 11, subcategory_id: 1103, name: "Вупи Пай «Кокосовый»", article: "911430", weight: 75, price_per_unit: 77.11, units_per_pack: 9, price_per_pack: 693.99, storage_period: "6 мес.", technology: "RD", available_units: 16 },
    { id: 112, category_id: 11, subcategory_id: 1103, name: "Вупи Пай «Матча»", article: "911431", weight: 75, price_per_unit: 77.11, units_per_pack: 9, price_per_pack: 693.99, storage_period: "6 мес.", technology: "RD", available_units: 20 },
    { id: 113, category_id: 11, subcategory_id: 1103, name: "Вупи Пай «Шоколад-Банан»", article: "911432", weight: 75, price_per_unit: 77.11, units_per_pack: 9, price_per_pack: 693.99, storage_period: "6 мес.", technology: "RD", available_units: 15 },
    { id: 114, category_id: 11, subcategory_id: 1103, name: "Вупи Пай «Ягодный»", article: "911433", weight: 75, price_per_unit: 77.11, units_per_pack: 9, price_per_pack: 693.99, storage_period: "6 мес.", technology: "RD", available_units: 10 },

    // Кексы (готовые)
    { id: 115, category_id: 11, subcategory_id: 1104, name: "Кекс «Мраморный» (10 порций по 80 гр.)", article: "742373", weight: 800, price_per_unit: 390.72, units_per_pack: 3, price_per_pack: 1172.16, storage_period: "6 мес.", technology: "RD", available_units: 12 },
    { id: 116, category_id: 11, subcategory_id: 1104, name: "Кекс с маком (10 порций по 80 гр.)", article: "742374", weight: 800, price_per_unit: 431.57, units_per_pack: 3, price_per_pack: 1294.71, storage_period: "6 мес.", technology: "RD", available_units: 18 },
    { id: 117, category_id: 11, subcategory_id: 1104, name: "Кекс шоколадный с клюквой (10 порций по 80 гр.)", article: "742375", weight: 800, price_per_unit: 499.47, units_per_pack: 3, price_per_pack: 1498.41, storage_period: "6 мес.", technology: "RD", available_units: 14 },
    { id: 118, category_id: 11, subcategory_id: 1104, name: "Кекс сливочный с изюмом (10 порций по 80 гр.)", article: "742376", weight: 800, price_per_unit: 414.06, units_per_pack: 3, price_per_pack: 1242.18, storage_period: "6 мес.", technology: "RD", available_units: 16 },
    { id: 119, category_id: 11, subcategory_id: 1104, name: "Кекс «Морковный» (10 порций по 80 гр.)", article: "742372", weight: 800, price_per_unit: 410.54, units_per_pack: 3, price_per_pack: 1231.62, storage_period: "6 мес.", technology: "RD", available_units: 20 },
    { id: 120, category_id: 11, subcategory_id: 1104, name: "Кекс «Морковный»", article: "911420", weight: 85, price_per_unit: 48.17, units_per_pack: 24, price_per_pack: 1156.08, storage_period: "6 мес.", technology: "RD", available_units: 15 },

    // Штрудели (готовые)
    { id: 121, category_id: 11, subcategory_id: 1105, name: "Штрудель «Австрийский» вишневый (постное/вегетарианское)", article: "910042", weight: 150, price_per_unit: 119.60, units_per_pack: 16, price_per_pack: 1913.60, storage_period: "6 мес.", technology: "RD", available_units: 10 },
    { id: 122, category_id: 11, subcategory_id: 1105, name: "Штрудель «Австрийский» маковый (постное/вегетарианское)", article: "910044", weight: 150, price_per_unit: 115.40, units_per_pack: 16, price_per_pack: 1846.40, storage_period: "6 мес.", technology: "RD", available_units: 12 },
    { id: 123, category_id: 11, subcategory_id: 1105, name: "Штрудель «Австрийский» яблочный (постное/вегетарианское)", article: "910045", weight: 150, price_per_unit: 97.20, units_per_pack: 16, price_per_pack: 1555.20, storage_period: "6 мес.", technology: "RD", available_units: 18 },

    // Ромовая баба (готовая)
    { id: 124, category_id: 11, subcategory_id: 1106, name: "Ромовая баба со сливочной помадкой", article: "773108", weight: 90, price_per_unit: 61.80, units_per_pack: 20, price_per_pack: 1236.00, storage_period: "6 мес.", technology: "RD", available_units: 14 },

    // Брауни (готовый)
    { id: 125, category_id: 11, subcategory_id: 1107, name: "Брауни с соленой карамелью", article: "742371", weight: 90, price_per_unit: 104.99, units_per_pack: 30, price_per_pack: 3149.70, storage_period: "6 мес.", technology: "RD", available_units: 16 },
    { id: 126, category_id: 11, subcategory_id: 1107, name: "Брауни с халвовым муссом, карамелью и шоколадом", article: "911422", weight: 110, price_per_unit: 89.11, units_per_pack: 9, price_per_pack: 801.99, storage_period: "6 мес.", technology: "RD", available_units: 20 },
    { id: 127, category_id: 11, subcategory_id: 1107, name: "Брауни шоколадный", article: "310303", weight: 80, price_per_unit: 60.71, units_per_pack: 24, price_per_pack: 1457.04, storage_period: "6 мес.", technology: "RD", available_units: 15 },

    // Тарталетки (готовые)
    { id: 128, category_id: 11, subcategory_id: 1108, name: "Тарталетка «Фисташковая»", article: "919423", weight: 110, price_per_unit: 176.00, units_per_pack: 9, price_per_pack: 1584.00, storage_period: "6 мес.", technology: "RD", available_units: 10 },
    { id: 129, category_id: 11, subcategory_id: 1108, name: "Тарталетка «Ягодная со смородиной»", article: "919424", weight: 120, price_per_unit: 152.33, units_per_pack: 9, price_per_pack: 1370.97, storage_period: "6 мес.", technology: "RD", available_units: 12 },
    { id: 130, category_id: 11, subcategory_id: 1108, name: "Пирожные ассорти «Тарты по-французски с заварным кремом»", article: "918080", weight: 70, price_per_unit: 61.60, units_per_pack: 32, price_per_pack: 1971.20, storage_period: "6 мес.", technology: "RD", available_units: 18 },
    { id: 131, category_id: 11, subcategory_id: 1108, name: "Корзиночка ягодная 130 г (Бенье)", article: "918130", weight: 130, price_per_unit: 116.50, units_per_pack: 20, price_per_pack: 2330.00, storage_period: "6 мес.", technology: "RD", available_units: 14 },
    { id: 132, category_id: 11, subcategory_id: 1108, name: "Тарталетка «Карамельно-ореховая»", article: "918026", weight: 95, price_per_unit: 152.33, units_per_pack: 9, price_per_pack: 1370.97, storage_period: "6 мес.", technology: "RD", available_units: 16 },
    { id: 133, category_id: 11, subcategory_id: 1108, name: "Тарталетка «Малиновая»", article: "918027", weight: 110, price_per_unit: 176.00, units_per_pack: 9, price_per_pack: 1584.00, storage_period: "6 мес.", technology: "RD", available_units: 20 },

    // Паштел-де-ната (АКЦИЯ)
    { id: 134, category_id: 11, subcategory_id: 1109, name: "Пирожное «Паштел-де-ната»", article: "919420", weight: 52, price_per_unit: 33.00, units_per_pack: 45, price_per_pack: 1485.00, storage_period: "6 мес.", technology: "RST", available_units: 15 },

    // Донатсы Ассорти (готовые)
    { id: 135, category_id: 11, subcategory_id: 1110, name: "Донатсы Ассорти №1: солёная карамель, вишня, банан, черника", article: "910101", weight: 80, price_per_unit: 48.40, units_per_pack: 20, price_per_pack: 968.00, storage_period: "6 мес.", technology: "RD", available_units: 10 },
    { id: 136, category_id: 11, subcategory_id: 1110, name: "Донатсы Ассорти №2: ваниль, шоколад, клубника, лесные ягоды", article: "910102", weight: 80, price_per_unit: 48.40, units_per_pack: 20, price_per_pack: 968.00, storage_period: "6 мес.", technology: "RD", available_units: 12 },
    { id: 137, category_id: 11, subcategory_id: 1110, name: "Донатсы Ассорти №3: фисташка, тирамису, манго, кокос", article: "910103", weight: 80, price_per_unit: 48.40, units_per_pack: 20, price_per_pack: 968.00, storage_period: "6 мес.", technology: "RD", available_units: 18 },

    // Донатсы с начинкой (готовые) (АКЦИЯ)
    { id: 138, category_id: 11, subcategory_id: 1111, name: "Донатс «Карамельный» Bakerton", article: "912208", weight: 67, price_per_unit: 45.67, units_per_pack: 36, price_per_pack: 1644.20, storage_period: "6 мес.", technology: "RD", available_units: 14 },
    { id: 139, category_id: 11, subcategory_id: 1111, name: "Донатс «Клубничный» Mama Vera", article: "910109", weight: 80, price_per_unit: 48.40, units_per_pack: 28, price_per_pack: 1355.20, storage_period: "6 мес.", technology: "RD", available_units: 16 },
    { id: 140, category_id: 11, subcategory_id: 1111, name: "Донатс «Ванильный» Mama Vera", article: "910108", weight: 80, price_per_unit: 48.40, units_per_pack: 28, price_per_pack: 1355.20, storage_period: "6 мес.", technology: "RD", available_units: 20 },
    { id: 141, category_id: 11, subcategory_id: 1111, name: "Донатс «Солёная карамель» Mama Vera", article: "910107", weight: 80, price_per_unit: 48.40, units_per_pack: 28, price_per_pack: 1355.20, storage_period: "6 мес.", technology: "RD", available_units: 15 },

    // Кейк - Попсы (готовые)
    { id: 142, category_id: 11, subcategory_id: 1112, name: "Кейк-Попс «Фирменный», ассорти (Лесные ягоды, Апельсин-манго, Шоколад)", article: "918099", weight: 60, price_per_unit: 89.20, units_per_pack: 48, price_per_pack: 4281.60, storage_period: "6 мес.", technology: "RD", available_units: 10 },
    { id: 143, category_id: 11, subcategory_id: 1112, name: "Шоубокс для кейк-попсов", article: "120157", weight: 0, price_per_unit: 50.00, units_per_pack: 1, price_per_pack: 50.00, storage_period: "6 мес.", technology: "", available_units: 12 },
    ]
    // Breadcrumbs component
    function Breadcrumbs({ path, onNavigate }) {
      return (
        <div className="flex items-center text-sm text-gray-600 mb-4 px-4">
          {path.map((item, index) => (
            <div key={index} className="flex items-center">
              {index > 0 && <span className="mx-2">/</span>}
              <button 
                onClick={() => onNavigate(item.screen, item.id)}
                className={`${index === path.length - 1 ? 'font-bold text-orange-500' : 'hover:text-orange-400'}`}
              >
                {item.name}
              </button>
            </div>
          ))}
        </div>
      );
    }

    // Main App Component
    function App() {
      const [screen, setScreen] = useState("main");
      const [selectedCategory, setSelectedCategory] = useState(null);
      const [selectedSubcategory, setSelectedSubcategory] = useState(null);
      const [selectedProduct, setSelectedProduct] = useState(null);
      const [cart, setCart] = useState([]);
      const [checkoutData, setCheckoutData] = useState({ name: "", phone: "", address: "" });
      const [orders, setOrders] = useState([]);
      const [breadcrumbs, setBreadcrumbs] = useState([{ name: "Главная", screen: "main" }]);

      const updateBreadcrumbs = (newScreen, id = null) => {
        let newBreadcrumbs = [...breadcrumbs];
        
        if (newScreen === "main") {
          newBreadcrumbs = [{ name: "Главная", screen: "main" }];
        } else if (newScreen === "catalog") {
          newBreadcrumbs = [
            { name: "Главная", screen: "main" },
            { name: "Каталог", screen: "catalog" }
          ];
        } else if (newScreen === "subcategories") {
          newBreadcrumbs = [
            { name: "Главная", screen: "main" },
            { name: "Каталог", screen: "catalog" },
            { name: selectedCategory.name, screen: "subcategories", id: selectedCategory.id }
          ];
        } else if (newScreen === "products") {
          const subcategory = mockCategories
            .flatMap(c => c.subcategories)
            .find(s => s.id === id);
            
          newBreadcrumbs = [
            { name: "Главная", screen: "main" },
            { name: "Каталог", screen: "catalog" },
            { name: selectedCategory.name, screen: "subcategories", id: selectedCategory.id },
            { name: subcategory.name, screen: "products", id: subcategory.id }
          ];
        } else if (newScreen === "cart") {
          newBreadcrumbs = [
            { name: "Главная", screen: "main" },
            { name: "Корзина", screen: "cart" }
          ];
        } else if (newScreen === "checkout") {
          newBreadcrumbs = [
            { name: "Главная", screen: "main" },
            { name: "Корзина", screen: "cart" },
            { name: "Оформление", screen: "checkout" }
          ];
        } else if (newScreen === "history") {
          newBreadcrumbs = [
            { name: "Главная", screen: "main" },
            { name: "История заказов", screen: "history" }
          ];
        }
        
        setBreadcrumbs(newBreadcrumbs);
      };

      const navigateTo = (screen, id = null) => {
        setScreen(screen);
        if (screen === "subcategories") {
          const category = mockCategories.find(c => c.id === id);
          setSelectedCategory(category);
        } else if (screen === "products") {
          const subcategory = mockCategories
            .flatMap(c => c.subcategories)
            .find(s => s.id === id);
          setSelectedSubcategory(subcategory);
        }
        updateBreadcrumbs(screen, id);
      };

      useEffect(() => {
        // Initialize Telegram Web App
        Telegram.WebApp.ready();
        Telegram.WebApp.expand();

        // Set up MainButton based on screen
        Telegram.WebApp.MainButton.hide();
        if (screen === "cart" && cart.length > 0) {
          Telegram.WebApp.MainButton.setText("Оформить заказ");
          Telegram.WebApp.MainButton.show();
          Telegram.WebApp.MainButton.onClick(() => navigateTo("checkout"));
        } else if (screen === "checkout") {
          Telegram.WebApp.MainButton.setText("Отправить заказ");
          Telegram.WebApp.MainButton.show();
          Telegram.WebApp.MainButton.onClick(handleCheckout);
        }
      }, [screen, cart]);

      const handleAddToCart = (product, isPack = false, quantity = 1) => {
        setCart([...cart, { ...product, isPack, quantity }]);
        Telegram.WebApp.showAlert(`Добавлено: ${product.name} (${isPack ? "упаковка" : "поштучно"})`);
      };

      const handleCheckout = () => {
        if (!checkoutData.name || !checkoutData.phone || !checkoutData.address) {
          Telegram.WebApp.showAlert("Пожалуйста, заполните все поля.");
          return;
        }
        const order = {
          id: orders.length + 1,
          user_id: Telegram.WebApp.initDataUnsafe.user?.id || 1,
          total_price: cart.reduce((sum, item) => sum + (item.isPack ? item.price_per_pack : item.price_per_unit) * item.quantity, 0),
          items: cart,
          created_at: new Date().toISOString(),
        };
        setOrders([...orders, order]);
        setCart([]);
        setCheckoutData({ name: "", phone: "", address: "" });
        Telegram.WebApp.showAlert("Заказ успешно отправлен!");
        navigateTo("main");
      };

      const renderMainMenu = () => (
        <div className="p-4">
          <h1 className="text-2xl font-bold mb-6 text-center text-orange-600">Добро пожаловать в Sdoba Zakax!</h1>
          <button 
            className="w-full bg-orange-100 text-orange-800 p-4 mb-4 rounded-2xl shadow-md hover:bg-orange-200 transition-colors"
            onClick={() => navigateTo("catalog")}
          >
            Каталог
          </button>
          <button 
            className="w-full bg-orange-100 text-orange-800 p-4 mb-4 rounded-2xl shadow-md hover:bg-orange-200 transition-colors"
            onClick={() => navigateTo("cart")}
          >
            Корзина ({cart.length})
          </button>
          <button 
            className="w-full bg-orange-100 text-orange-800 p-4 rounded-2xl shadow-md hover:bg-orange-200 transition-colors"
            onClick={() => navigateTo("history")}
          >
            История заказов
          </button>
        </div>
      );

      const renderCatalog = () => (
        <div className="p-4">
          <Breadcrumbs path={breadcrumbs} onNavigate={navigateTo} />
          <h2 className="text-xl font-bold mb-4 text-orange-600">Категории</h2>
          <div className="grid grid-cols-2 gap-4">
            {mockCategories.map(category => (
              <button
                key={category.id}
                className="bg-white p-0 rounded-xl shadow-md overflow-hidden hover:shadow-lg transition-shadow"
                onClick={() => navigateTo("subcategories", category.id)}
              >
                <img src={category.image} alt={category.name} className="w-full h-32 object-cover" />
                <div className="p-2">
                  <h3 className="font-medium text-center">{category.name}</h3>
                </div>
              </button>
            ))}
          </div>
        </div>
      );

      const renderSubcategories = () => (
        <div className="p-4">
          <Breadcrumbs path={breadcrumbs} onNavigate={navigateTo} />
          <h2 className="text-xl font-bold mb-4 text-orange-600">{selectedCategory.name}</h2>
          <div className="space-y-4">
            {selectedCategory.subcategories.map(subcategory => (
              <div key={subcategory.id} className="bg-white rounded-xl shadow-md overflow-hidden">
                <button
                  className="w-full text-left p-4 hover:bg-gray-50"
                  onClick={() => navigateTo("products", subcategory.id)}
                >
                  <div className="flex justify-between items-center">
                    <h3 className="font-medium">{subcategory.name}</h3>
                    <span className="text-sm text-gray-500">{subcategory.storage_period}</span>
                  </div>
                </button>
              </div>
            ))}
          </div>
        </div>
      );

      const renderProducts = () => {
        const productsInSubcategory = mockProducts.filter(
          product => product.subcategory_id === selectedSubcategory.id
        );
        
        return (
          <div className="p-4">
            <Breadcrumbs path={breadcrumbs} onNavigate={navigateTo} />
            <h2 className="text-xl font-bold mb-4 text-orange-600">{selectedSubcategory.name}</h2>
            <p className="text-sm text-gray-500 mb-4">Срок хранения: {selectedSubcategory.storage_period}</p>
            
            <div className="bg-white rounded-xl shadow-md overflow-hidden">
              <table className="w-full">
                <thead className="bg-gray-50">
                  <tr className="text-left text-sm text-gray-500">
                    <th className="p-3">Наименование</th>
                    <th className="p-3">Вес</th>
                    <th className="p-3">Кол-во</th>
                    <th className="p-3">Цена</th>
                    <th className="p-3">Действия</th>
                  </tr>
                </thead>
                <tbody>
                  {productsInSubcategory.map(product => (
                    <tr key={product.id} className="border-t hover:bg-gray-50">
                      <td className="p-3">
                        <div className="font-medium">{product.name}</div>
                        <div className="text-xs text-gray-500">{product.article}</div>
                      </td>
                      <td className="p-3">{product.weight} г</td>
                      <td className="p-3">{product.units_per_pack} шт.</td>
                      <td className="p-3">
                        <div className="font-bold text-orange-600">{product.price_per_unit}₽</div>
                        <div className="text-xs text-gray-500">{product.price_per_pack}₽/уп.</div>
                      </td>
                      <td className="p-3">
                        <div className="flex space-x-2">
                          <button
                            className="bg-orange-100 text-orange-800 p-1 rounded text-xs hover:bg-orange-200"
                            onClick={() => handleAddToCart(product, false)}
                          >
                            Шт.
                          </button>
                          <button
                            className="bg-orange-100 text-orange-800 p-1 rounded text-xs hover:bg-orange-200"
                            onClick={() => handleAddToCart(product, true)}
                          >
                            Уп.
                          </button>
                        </div>
                      </td>
                    </tr>
                  ))}
                </tbody>
              </table>
            </div>
          </div>
        );
      };

      const renderCart = () => (
        <div className="p-4">
          <Breadcrumbs path={breadcrumbs} onNavigate={navigateTo} />
          <h2 className="text-xl font-bold mb-4 text-orange-600">Корзина</h2>
          {cart.length === 0 ? (
            <div className="bg-white p-6 rounded-xl shadow-md text-center">
              <p>Ваша корзина пуста.</p>
              <button 
                className="mt-4 bg-orange-100 text-orange-800 p-3 rounded-xl shadow-md hover:bg-orange-200 transition-colors"
                onClick={() => navigateTo("catalog")}
              >
                Перейти в каталог
              </button>
            </div>
          ) : (
            <>
              <div className="bg-white rounded-xl shadow-md overflow-hidden mb-4">
                {cart.map((item, index) => (
                  <div key={index} className="p-4 border-b last:border-b-0">
                    <div className="flex items-start">
                      <div className="flex-1">
                        <h3 className="font-medium">{item.name}</h3>
                        <p className="text-sm text-gray-600">{item.quantity} {item.isPack ? "упаковок" : "шт."}</p>
                        <p className="text-orange-600 font-bold">{(item.isPack ? item.price_per_pack : item.price_per_unit) * item.quantity}₽</p>
                      </div>
                    </div>
                  </div>
                ))}
              </div>
              
              <div className="bg-white p-4 rounded-xl shadow-md mb-4">
                <p className="font-bold text-lg text-right">Итого: {cart.reduce((sum, item) => sum + (item.isPack ? item.price_per_pack : item.price_per_unit) * item.quantity, 0)}₽</p>
              </div>
              
              <button 
                className="w-full bg-red-100 text-red-800 p-3 rounded-xl shadow-md hover:bg-red-200 transition-colors mb-4"
                onClick={() => setCart([])}
              >
                Очистить корзину
              </button>
            </>
          )}
        </div>
      );

      const renderCheckout = () => (
        <div className="p-4">
          <Breadcrumbs path={breadcrumbs} onNavigate={navigateTo} />
          <h2 className="text-xl font-bold mb-4 text-orange-600">Оформление заказа</h2>
          <div className="bg-white p-4 rounded-xl shadow-md">
            <div className="mb-4">
              <label className="block text-gray-700 mb-1">Имя</label>
              <input
                type="text"
                placeholder="Ваше имя"
                className="w-full p-3 border rounded-xl focus:outline-none focus:ring-2 focus:ring-orange-200"
                value={checkoutData.name}
                onChange={e => setCheckoutData({ ...checkoutData, name: e.target.value })}
              />
            </div>
            <div className="mb-4">
              <label className="block text-gray-700 mb-1">Телефон</label>
              <input
                type="tel"
                placeholder="Ваш телефон"
                className="w-full p-3 border rounded-xl focus:outline-none focus:ring-2 focus:ring-orange-200"
                value={checkoutData.phone}
                onChange={e => setCheckoutData({ ...checkoutData, phone: e.target.value })}
              />
            </div>
            <div className="mb-4">
              <label className="block text-gray-700 mb-1">Адрес</label>
              <input
                type="text"
                placeholder="Адрес доставки"
                className="w-full p-3 border rounded-xl focus:outline-none focus:ring-2 focus:ring-orange-200"
                value={checkoutData.address}
                onChange={e => setCheckoutData({ ...checkoutData, address: e.target.value })}
              />
            </div>
          </div>
        </div>
      );

      const renderHistory = () => (
        <div className="p-4">
          <Breadcrumbs path={breadcrumbs} onNavigate={navigateTo} />
          <h2 className="text-xl font-bold mb-4 text-orange-600">История заказов</h2>
          {orders.length === 0 ? (
            <div className="bg-white p-6 rounded-xl shadow-md text-center">
              <p>У вас пока нет заказов.</p>
              <button 
                className="mt-4 bg-orange-100 text-orange-800 p-3 rounded-xl shadow-md hover:bg-orange-200 transition-colors"
                onClick={() => navigateTo("catalog")}
              >
                Перейти в каталог
              </button>
            </div>
          ) : (
            <div className="space-y-4">
              {orders.map(order => (
                <div key={order.id} className="bg-white rounded-xl shadow-md overflow-hidden">
                  <div className="p-4 border-b">
                    <div className="flex justify-between items-center">
                      <h3 className="font-bold">Заказ #{order.id}</h3>
                      <p className="text-orange-600 font-bold">{order.total_price}₽</p>
                    </div>
                    <p className="text-sm text-gray-500">{new Date(order.created_at).toLocaleString()}</p>
                  </div>
                  <div className="p-4">
                    {order.items.map((item, index) => (
                      <div key={index} className="flex items-center mb-3 last:mb-0">
                        <div className="flex-1">
                          <p>{item.name}</p>
                          <p className="text-sm text-gray-600">{item.quantity} {item.isPack ? "упаковок" : "шт."}</p>
                        </div>
                        <p className="text-orange-600">{(item.isPack ? item.price_per_pack : item.price_per_unit) * item.quantity}₽</p>
                      </div>
                    ))}
                  </div>
                </div>
              ))}
            </div>
          )}
        </div>
      );

      return (
        <div className="min-h-screen bg-gray-50">
          {screen === "main" && renderMainMenu()}
          {screen === "catalog" && renderCatalog()}
          {screen === "subcategories" && renderSubcategories()}
          {screen === "products" && renderProducts()}
          {screen === "cart" && renderCart()}
          {screen === "checkout" && renderCheckout()}
          {screen === "history" && renderHistory()}
        </div>
      );
    }

    // Render the app
    ReactDOM.render(<App />, document.getElementById("root"));
  </script>
</body>
</html>
